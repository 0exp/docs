{{ define "head" }}

{{ $base := .Site.BaseURL }}
{{ $parsed := urls.Parse $base }}
{{ $path := $parsed.Path }}
{{ if (eq $path "/") }}
	{{ .Scratch.Set "path" ""}}
{{ else }}
  {{ .Scratch.Set "path" $path}}
{{ end }}

<script src='{{ .Scratch.Get "path" }}/js/cli.js' defer></script>
{{ end }}

{{ define "main" }}
<main>
  <header class="h-96 bg-redis-ink-900 text-white">
    <div class="max-w-[800px] mx-auto px-5 flex flex-col gap-8 md:items-center justify-center h-full">
      <h1 class="text-3xl md:text-5xl font-medium">{{ .Title }}</h1>
      {{ with .Params.description }}
      <p class="text-xl md:text-2xl">{{ . | markdownify }}</p>
      {{ end }}
      <form class="flex flex-row items-center border border-redis-pen-600 rounded-md px-6 gap-6 w-full">
        <label class="" for="search-input-home" id="search-label-home">
          {{ partial "icons/search.html" }}
        </label>
        <input class="appearance-none bg-transparent text-lg w-full h-16 focus:outline-none" aria-autocomplete="both" aria-labelledby="search-label-home"
          id="search-input-home" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"
          placeholder="Search keyword" maxlength="64" type="search" value="" tabindex="">
      </form>
    </div>
  </header>
  <div class="flex flex-col lg:flex-row gap-8 mx-auto px-4 md:px-11 py-6 md:py-28 max-w-[1440px]">
    <div class="lg:sticky lg:top-32 w-full lg:w-64 h-fit lg:h-full shrink-0 text-sm font-mono font-normal">
      <nav class="lg:hidden w-full lg:w-64 z-40 bg-white h-fit lg:h-full leading-7">
        <div class="border border-opacity-50 border-redis-ink-900 rounded-md flex flex-col">
          <button class="px-6 py-4 text-redis-ink-900 font-medium flex justify-between cursor-pointer lg:cursor-default" onclick="dropdownToggle()">
            <div class="uppercase">Documentation</div>
            <div id="dropdownChevron" class="lg:hidden self-center">{{ partial "icons/chevron.html" }}</div>
          </button>
          <div id="dropdown" class="hidden lg:block border-t border-opacity-50 border-redis-ink-900 text-redis-pen-800">
            <ul class="p-6">
              <li><a class="py-2 hover:underline hover:text-redis-pen-600" href='{{ .Scratch.Get "path" }}/get-started'>Get started</a></li>
              <li><a class="py-2 hover:underline hover:text-redis-pen-600" href='{{ .Scratch.Get "path" }}/develop'>Develop</a></li>
              <li><a class="py-2 hover:underline hover:text-redis-pen-600" href='{{ .Scratch.Get "path" }}/integrate'>Integrate</a></li>
              <li><a class="py-2 hover:underline hover:text-redis-pen-600" href='{{ .Scratch.Get "path" }}/operate'>Operate</a></li>
              <li><a class="py-2 hover:underline hover:text-redis-pen-600" href='{{ .Scratch.Get "path" }}/commands'>Commands</a></li>
              <li><a class="py-2 hover:underline hover:text-redis-pen-600">APIs</a></li>
            </ul>
          </div>
        </div>
      </nav>
      <nav class="hidden lg:block w-full lg:w-64 z-40 h-full leading-7">
        <div class="flex flex-col gap-4">
          <a class="px-6 py-4 hover:bg-redis-pen-200 border border-redis-ink-900 border-opacity-50 rounded-md" href='{{ .Scratch.Get "path" }}/get-started'>Get started</a>
          <div class="flex flex-col border border-redis-ink-900 border-opacity-50 rounded-md">
            <a class="px-6 py-4 rounded-t-md hover:bg-redis-pen-200" href='{{ .Scratch.Get "path" }}/develop'>Develop</a>
            <a class="px-6 py-4 hover:bg-redis-pen-200 border-y border-redis-ink-900 border-opacity-50" href='{{ .Scratch.Get "path" }}/integrate'>Integrate</a>
            <a class="px-6 py-4 rounded-b-md hover:bg-redis-pen-200" href='{{ .Scratch.Get "path" }}/operate'>Operate</a>
          </div>
          <div class="flex flex-col border border-redis-ink-900 border-opacity-50 rounded-md">
            <a class="px-6 py-4 rounded-t-md hover:bg-redis-pen-200 text-redis-red-600" href='{{ .Scratch.Get "path" }}/commands'>Commands</a>
            <a class="px-6 py-4 rounded-b-md hover:bg-redis-pen-200 border-t border-redis-ink-900 border-opacity-50" href='{{ .Scratch.Get "path" }}/apis'>APIs</a>
          </div>
        </div>
      </nav>
    </div>
    <div class="lg:px-11 w-full flex flex-col gap-24">
      <div>
        <h1 class="text-5xl font-medium" id="develop">Learn how to</h1>
        {{ partial "docs-section.html" (dict
          "Title" "Develop"
          "Description" "Read more about how to use the Redis in-memory data store as a cache, vector database, document database, streaming engine, and message broker."
          "ButtonLink" "./develop"
          "ButtonLabel" "Read more"
          "LinksLeftTitle" "Featured content"
          "LinksLeft" (slice
            (dict "Text" "Vector search" "URL" "./develop/interact/search-and-query/query/vector-search")
            (dict "Text" "Query and aggregate" "URL" "./develop/interact/search-and-query/query")
            (dict "Text" "Debug functions" "URL" "./develop/interact/programmability/triggers-and-functions/debugging")
            )
          "LinksRightTitle" "Quick starts"
          "LinksRight" (slice
            (dict "Text" "Data structure store" "URL" "./develop/get-started/data-store/")
            (dict "Text" "Document database" "URL" "./develop/get-started/document-database/")
            (dict "Text" "Vector database" "URL" "./develop/get-started/vector-database/")
            )
          ) }}
        {{ partial "docs-section.html" (dict
          "Title" "Integrate"
          "Description" "A self-managed data platform that unlocks the full potential of Redis at enterprise scale."
          "ButtonLink" ""
          "ButtonLabel" "Huhu"
          "ButtonLink" "#"
          "LinksLeftTitle" "Redis Enterprise Services"
          "LinksLeft" (slice
              (dict "Text" "Overview" "URL" "/"))
          "LinksRightTitle" "Learn more about"
          "LinksRight" (slice
              (dict "Text" "Clusters" "URL" "/")
              (dict "Text" "Databases" "URL" "/")
          )
        ) }}
        {{ partial "docs-section.html" (dict
          "Title" "Operate"
          "Description" "A self-managed data platform that unlocks the full potential of Redis at enterprise scale."
          "ButtonLink" ""
          "ButtonLabel" "Get started"
          "ButtonLink" "#"
          "LinksLeftTitle" "Redis Enterprise Services"
          "LinksLeft" (slice
              (dict "Text" "Overview" "URL" "/"))
          "LinksRightTitle" "Learn more about"
          "LinksRight" (slice
              (dict "Text" "Clusters" "URL" "/")
              (dict "Text" "Databases" "URL" "/")
          )
        ) }}
      </div>
      <div>
        <h1 class="text-5xl font-medium" id="operate">Operate</h1>
        {{ partial "docs-section.html" (dict
          "Title" "Kubernetes"
          "Description" "Redis Enterprise deployed on containerized software platforms and integrated with our partners."
          "ButtonLink" ""
          "ButtonLabel" "Test"
          "LinksLeftTitle" "Learn more about"
          "LinksLeft" (slice
            (dict "Text" "Architecture" "URL" "/")
            (dict "Text" "Clusters" "URL" "/")
            (dict "Text" "Deployments" "URL" "/")
            (dict "Text" "Databases" "URL" "/")
          )
        ) }}
        {{ partial "docs-section.html" (dict
          "Title" "Redis stack"
          "Description" "Redis Enterprise supports Redis Stack features (formerly modules), which extend the core Redis feature set."
          "ButtonLink" ""
          "LinksLeftTitle" "Learn more about"
          "LinksLeft" (slice
            (dict "Text" "Search and query" "URL" "/")
            (dict "Text" "JSON" "URL" "/")
            (dict "Text" "Time series" "URL" "/")
            (dict "Text" "Probabilistic" "URL" "/")
          )
        ) }}
        {{ partial "docs-section.html" (dict
          "Title" "Redis data integration"
          "Description" "Redis Data Integration keeps Redis in sync with the primary database in near real time."
          "ButtonLink" ""
          "ButtonLabel" ""
          "LinksLeftTitle" "Redis Data Integration Services"
          "LinksLeft" (slice
          (dict "Text" "Overview" "URL" "/"))
          "LinksRightTitle" "Learn more about"
          "LinksRight" (slice
            (dict "Text" "Subscriptions" "URL" "/")
            (dict "Text" "Databases" "URL" "/")
          )
        ) }}
      </div>
      <div>
        <h1 class="text-5xl font-medium" id="explore">Explore</h1>
        {{ partial "docs-section.html" (dict
          "Title" "RedisInsight"
          "Description" "Redis Data Integration keeps Redis in sync with the primary database in near real time."
          "ButtonLink" ""
          "ButtonLabel" ""
          "LinksLeftTitle" "Learn more about"
          "LinksLeft" (slice
            (dict "Text" "Installation guide" "URL" "/")
            (dict "Text" "Subscriptions" "URL" "/")
            (dict "Text" "Databases" "URL" "/")
          )
        ) }}
      </div>
    </div>
  </div>
  <script>
    function dropdownToggle() {
      document.getElementById('dropdownChevron').classList.toggle('rotate-180');
      document.getElementById('dropdown').classList.toggle('hidden');
    }
  </script>
</main>


{{ end }}